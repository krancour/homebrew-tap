# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Kargo < Formula
  desc "CLI for Kargo"
  homepage "https://kargo.io"
  version "1.2.0-rc.33"
  license "Apache-2.0"

  on_macos do
    on_intel do
      url "https://github.com/krancour/kargo/releases/download/v1.2.0-rc.33/kargo-darwin-amd64"
      sha256 "561ad318686f8ca9e95691c9ff4da00ff813ff5dd8ee95b8e4b692032df6a25f"

      def install
        bin.install "kargo-darwin-amd64" => "kargo"
      end
    end
    on_arm do
      url "https://github.com/krancour/kargo/releases/download/v1.2.0-rc.33/kargo-darwin-arm64"
      sha256 "fd39a4cac2830e1ac788fb6c027f91f677c6577fe44b2ab2c8837d93de60efc3"

      def install
        bin.install "kargo-darwin-arm64" => "kargo"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/krancour/kargo/releases/download/v1.2.0-rc.33/kargo-linux-amd64"
        sha256 "8c78a13ee3c9be2a93bcfa2dbb696e347d96f378d4ffb143b4d40f92edb3d738"

        def install
          bin.install "kargo-linux-amd64" => "kargo"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/krancour/kargo/releases/download/v1.2.0-rc.33/kargo-linux-arm64"
        sha256 "d7984fd83dabadedebf3f1095b0d32375140c3e285589ef22cd272b456b12e87"

        def install
          bin.install "kargo-linux-arm64" => "kargo"
        end
      end
    end
  end

  test do
    assert_match "Client Version: v#{version}", shell_output("#{bin}/kargo version --client")
  end
end
